<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Embedded Xinu Operating System: dwc_regs::dwc_host_channel::dwc_host_channel_transfer Union Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Embedded Xinu Operating System
   </div>
   <div id="projectbrief">An ongoing research project and educational operating system.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="structdwc__regs.html">dwc_regs</a></li><li class="navelem"><a class="el" href="structdwc__regs_1_1dwc__host__channel.html">dwc_host_channel</a></li><li class="navelem"><a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__transfer.html">dwc_host_channel_transfer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">dwc_regs::dwc_host_channel::dwc_host_channel_transfer Union Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="usb__dwc__regs_8h_source.html">usb_dwc_regs.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a52f25a6cd94d5164f5dac57aba47e52e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52f25a6cd94d5164f5dac57aba47e52e"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>val</b></td></tr>
<tr class="separator:a52f25a6cd94d5164f5dac57aba47e52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c173edb315c1a5aae0f687d0fc4c3e3"><td class="memItemLeft" ><a class="anchor" id="a5c173edb315c1a5aae0f687d0fc4c3e3"></a>
struct {</td></tr>
<tr class="memitem:a6d5065de5539481decf0ab564909af8e"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__transfer.html#a0e1440f67db061c82a011660549d373a">size</a>: 19</td></tr>
<tr class="separator:a6d5065de5539481decf0ab564909af8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297b7d20365257633ebc77610afceba5"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__transfer.html#ab49dd416024ced5f78321eeebea56b86">packet_count</a>: 10</td></tr>
<tr class="separator:a297b7d20365257633ebc77610afceba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd3459d505d707d26b9524acacce8bd"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__transfer.html#a0fe8970fe597df296700b5c38a29a2a5">packet_id</a>: 2</td></tr>
<tr class="separator:a3dd3459d505d707d26b9524acacce8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61b7ec0eed8b1d4b704080ecfa8c924"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__transfer.html#a52b9cb0efb209bf308329bb76cb2a378">do_ping</a>: 1</td></tr>
<tr class="separator:aa61b7ec0eed8b1d4b704080ecfa8c924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c173edb315c1a5aae0f687d0fc4c3e3"><td class="memItemLeft" valign="top">};&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a5c173edb315c1a5aae0f687d0fc4c3e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Channel Transfer Register:</p>
<p>Used to store additional information about the transfer. This must be programmed before beginning the transfer. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a52b9cb0efb209bf308329bb76cb2a378"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_transfer::do_ping</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO </p>

</div>
</div>
<a class="anchor" id="ab49dd416024ced5f78321eeebea56b86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_transfer::packet_count</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of packets left to transmit or maximum number of packets left to receive. Software must program this before beginning the transfer. The packet count is calculated as the size divided by the maximum packet size, rounded up to the nearest whole packet. As a special case, if the transfer size is 0 bytes, the packet count must be set to 1.</p>
<p>The hardware will decrement this register when a packet is successfully sent or received. In the case of split transactions, this happens after the Complete Split rather than after the Start Split. If the final received packet of an IN transfer is short, it is still counted. </p>

</div>
</div>
<a class="anchor" id="a0fe8970fe597df296700b5c38a29a2a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_transfer::packet_id</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>High 2 bits of the Packet ID used in the USB protocol.</p>
<p>When performing the SETUP phase of a control transfer, specify 0x3 here to generate the needed SETUP token.</p>
<p>When performing the DATA phase of a control transfer, initially specify 0x2 here to begin the DATA packets with the needed DATA1 Packet ID.</p>
<p>When performing the STATUS phase of a control transfer, specify 0x2 here to generate the neeed DATA1 Packet ID.</p>
<p>When starting a bulk, isochronous, or interrupt transfer, specify 0x0 here to generate the needed DATA0 Packet ID.</p>
<p>In the case of a transfer consisting of multiple DATA packets, the hardware will update this field with the Packet ID to use for the next packet. This field therefore only needs to be re-programmed if the transfer is moved to a different channel or the channel is re-used before the transfer is complete. When doing so, software must save this field so that it can be re-programmed correctly. </p>

</div>
</div>
<a class="anchor" id="a0e1440f67db061c82a011660549d373a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_transfer::size</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of the data to send or receive, in bytes. Software must program this before beginning the transfer. This can be greater than the maximum packet length.</p>
<p>For IN transfers, the hardware decrements this field for each packet received by the number of bytes received. For split transactions, the decrement happens after the Complete Split rather than the Start Split. Software can subtract this field from the original transfer size in order to determine the number of bytes received at any given point, including when the transfer has encountered an error or has completed with either the full size or a short size.</p>
<p>For OUT transfers, the hardware does not update this field as expected. It will not be decremented when data is transmitted, at least not in every case; hence, software cannot rely on its value to indicate how many bytes of data have been transmitted so far. Instead, software must inspect the packet_count field and assume that all data was transmitted if packet_count is 0, or that the amount of data transmitted is equal to the endpoint's maximum packet size times [the original packet count minus packet_count] if packet_count is nonzero. </p>

</div>
</div>
<hr/>The documentation for this union was generated from the following file:<ul>
<li>/users/home/pmcgee6/raxinu/19_ra/xinu/system/platforms/arm-rpi3/<a class="el" href="usb__dwc__regs_8h_source.html">usb_dwc_regs.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
