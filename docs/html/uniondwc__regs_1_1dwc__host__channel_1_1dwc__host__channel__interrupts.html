<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Embedded Xinu Operating System: dwc_regs::dwc_host_channel::dwc_host_channel_interrupts Union Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Embedded Xinu Operating System
   </div>
   <div id="projectbrief">An ongoing research project and educational operating system.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="structdwc__regs.html">dwc_regs</a></li><li class="navelem"><a class="el" href="structdwc__regs_1_1dwc__host__channel.html">dwc_host_channel</a></li><li class="navelem"><a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html">dwc_host_channel_interrupts</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">dwc_regs::dwc_host_channel::dwc_host_channel_interrupts Union Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="usb__dwc__regs_8h_source.html">usb_dwc_regs.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a0eed56ac8ec26f428831b4dcdab565f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0eed56ac8ec26f428831b4dcdab565f1"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>val</b></td></tr>
<tr class="separator:a0eed56ac8ec26f428831b4dcdab565f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76488d72e8a78d8dc5fa7c0201f1b48"><td class="memItemLeft" ><a class="anchor" id="ae76488d72e8a78d8dc5fa7c0201f1b48"></a>
struct {</td></tr>
<tr class="memitem:a5df08fcf7ed685caa1ea69ef201baf8a"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html#a080f3a3c1d88ca4d75523795393a12c3">transfer_completed</a>: 1</td></tr>
<tr class="separator:a5df08fcf7ed685caa1ea69ef201baf8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d0fb6ee1a4f7bedf604f06f0dde142"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html#a5d5cf6f7761bbb8b9c4d81278a4d9db0">channel_halted</a>: 1</td></tr>
<tr class="separator:a54d0fb6ee1a4f7bedf604f06f0dde142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c946eec91a0e8a4d6e24a371c7ac35c"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html#ab596e821aed848dec17d26de82168c9a">ahb_error</a>: 1</td></tr>
<tr class="separator:a5c946eec91a0e8a4d6e24a371c7ac35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fafc427a48af223190be59c17924675"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html#a6f9935f073878b63944c7c1ab1953f1a">stall_response_received</a>: 1</td></tr>
<tr class="separator:a0fafc427a48af223190be59c17924675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad687c05ce7db53bc882894a80703e485"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html#a0727e2cb21b4ac3806de17ad35ac50eb">nak_response_received</a>: 1</td></tr>
<tr class="separator:ad687c05ce7db53bc882894a80703e485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8e4fe33abc42c539261a29f119b596"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html#a8daa1a8ae4126d655625a31d7a5d74ef">ack_response_received</a>: 1</td></tr>
<tr class="separator:a1f8e4fe33abc42c539261a29f119b596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d47f72540e4e0e2d6179a15b6234cd0"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html#a50ee2ce16b7d94abd934970835fdbe30">nyet_response_received</a>: 1</td></tr>
<tr class="separator:a3d47f72540e4e0e2d6179a15b6234cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4de0467773df497050c81df0d1225e6a"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html#ab36c54d540d80b8f74daa75eb6083045">transaction_error</a>: 1</td></tr>
<tr class="separator:a4de0467773df497050c81df0d1225e6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6514d54a02c4012489ef2be24c0501f8"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html#a2b3f505c2a3ec5b0bc2c2f078f6cc33f">babble_error</a>: 1</td></tr>
<tr class="separator:a6514d54a02c4012489ef2be24c0501f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf6c59a130ee4c2bada4c17f178a64a8"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html#acfa88ef39b0d5b954721d5bda7026a6c">frame_overrun</a>: 1</td></tr>
<tr class="separator:adf6c59a130ee4c2bada4c17f178a64a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f74c984da0cd178a06ead26ba9c4cf5"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="uniondwc__regs_1_1dwc__host__channel_1_1dwc__host__channel__interrupts.html#a337ecfce39c6226d51404c5c7b14b5ab">data_toggle_error</a>: 1</td></tr>
<tr class="separator:a2f74c984da0cd178a06ead26ba9c4cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac706e8d77ed0434052889589d4898233"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<b>buffer_not_available</b>: 1</td></tr>
<tr class="separator:ac706e8d77ed0434052889589d4898233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5747e0b98e604895b6dda336ad69cc90"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<b>excess_transaction_error</b>: 1</td></tr>
<tr class="separator:a5747e0b98e604895b6dda336ad69cc90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d6afa49d9c245de2e8a758b05a2a881"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<b>frame_list_rollover</b>: 1</td></tr>
<tr class="separator:a9d6afa49d9c245de2e8a758b05a2a881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09e3e2b5084b1217e5e489fae124079"><td class="memItemLeft" >&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<b>reserved</b>: 18</td></tr>
<tr class="separator:ad09e3e2b5084b1217e5e489fae124079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76488d72e8a78d8dc5fa7c0201f1b48"><td class="memItemLeft" valign="top">};&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:ae76488d72e8a78d8dc5fa7c0201f1b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Channel Interrupts Register -</p>
<p>Bitmask of status conditions that have occurred on this channel.</p>
<p>These bits can be used with or without "real" interrupts. To have the CPU get a real interrupt when one of these bits gets set, set the appropriate bit in the interrupt_mask, and also ensure that interrupts from the channel are enabled in the host_channels_interrupt_mask register, channel interrupts overall are enabled in the core_interrupt_mask register, and interrupts from the DWC hardware overall are enabled in the ahb_configuration register and by any system-specific interrupt controller. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a8daa1a8ae4126d655625a31d7a5d74ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_interrupts::ack_response_received</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The device issued an ACK handshake packet (receiving device acknowledged error-free packet). </p>

</div>
</div>
<a class="anchor" id="ab596e821aed848dec17d26de82168c9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_interrupts::ahb_error</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An error occurred on the ARM Advanced High-Performance Bus (AHB). </p>

</div>
</div>
<a class="anchor" id="a2b3f505c2a3ec5b0bc2c2f078f6cc33f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_interrupts::babble_error</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unexpected bus activity occurred. </p>

</div>
</div>
<a class="anchor" id="a5d5cf6f7761bbb8b9c4d81278a4d9db0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_interrupts::channel_halted</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The channel has halted. After this bit has been set, the channel sits idle and nothing else will happen until software takes action.</p>
<p>Channels may halt for several reasons. From our experience these cover all possible situations in which software needs to take action, so this is the only channel interrupt that actually needs to be enabled. At least in DMA mode, the controller to some extent will act autonomously to complete transfers and only issue this interrupt when software needs to take action.</p>
<p>Situations in which a channel will halt include but probably are not limited to:</p>
<ul>
<li>The transfer has completed, thereby setting the transfer_completed flag as documented above.</li>
<li>A Start Split or Complete Split transaction has finished.</li>
<li>The hub sent a NYET packet when trying to execute a Complete Split transaction, thereby signalling that the Split transaction is not yet complete.</li>
<li>The device sent a NAK packet, thereby signalling it had no data to send at the time, when trying to execute an IN interrupt transfer.</li>
<li>One of several errors has occurred, such as an AHB error, data toggle error, tranasction error, stall condition, or frame overrun error. </li>
</ul>

</div>
</div>
<a class="anchor" id="a337ecfce39c6226d51404c5c7b14b5ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_interrupts::data_toggle_error</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When issuing a series of DATA transactions to an endpoint, the correct DATA0 or DATA1 packet ID was not specified in the packet_id member of the transfer register. </p>

</div>
</div>
<a class="anchor" id="acfa88ef39b0d5b954721d5bda7026a6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_interrupts::frame_overrun</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO </p>

</div>
</div>
<a class="anchor" id="a0727e2cb21b4ac3806de17ad35ac50eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_interrupts::nak_response_received</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The device issued a NAK handshake packet (receiving device cannot accept data or transmitting device cannot send data).</p>
<p>The channel will halt with this bit set when performing an IN transfer from an interrupt endpoint that has no data to send. As this requires software intervention to restart the channel, this means that polling of interrupt endpoints (e.g. on hubs and HID devices) must be done in software, even if the actual transactions themselves are interrupt-driven. </p>

</div>
</div>
<a class="anchor" id="a50ee2ce16b7d94abd934970835fdbe30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_interrupts::nyet_response_received</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The device issued a NYET handshake packet. </p>

</div>
</div>
<a class="anchor" id="a6f9935f073878b63944c7c1ab1953f1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_interrupts::stall_response_received</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The device issued a STALL handshake packet (endpoint is halted or control pipe request is not supported). </p>

</div>
</div>
<a class="anchor" id="ab36c54d540d80b8f74daa75eb6083045"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_interrupts::transaction_error</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>From our experience this seems to usually indicate that software programmed the channel incorrectly. </p>

</div>
</div>
<a class="anchor" id="a080f3a3c1d88ca4d75523795393a12c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_regs::dwc_host_channel::dwc_host_channel_interrupts::transfer_completed</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The requested USB transfer has successfully completed.</p>
<p>Exceptions and caveats:</p>
<ul>
<li>When doing split transactions, this bit will be set after a Complete Split transaction has finished, even though the overall transfer may not actually be complete.</li>
<li>The transfer will only be complete up to the extent that data was programmed into the channel. For example, control transfers have 3 phases, each of which must be programmed into the channel separately. This flag will be set after each of these phases has successfully completed.</li>
<li>An OUT transfer is otherwise considered complete when exactly the requested number of bytes of data have been successfully transferred, while an IN transfer is otherwise considered complete when exactly the requested number of bytes of data have been successfully transferred or a shorter-than-expected packet was received. </li>
</ul>

</div>
</div>
<hr/>The documentation for this union was generated from the following file:<ul>
<li>/users/home/pmcgee6/raxinu/19_ra/xinu/system/platforms/arm-rpi3/<a class="el" href="usb__dwc__regs_8h_source.html">usb_dwc_regs.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
